<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ë¨¸ìŠ¤ì¿¨ ì†Œì›ì„ ë§í•´ë´ ì´ë²¤íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- Firebase SDK ë¡œë“œ -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDocs, collection } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase ì„¤ì • ì •ë³´ (ì—¬ëŸ¬ë¶„ì˜ ì‹¤ì œ API í‚¤ë¡œ ì •í™•í•˜ê²Œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!)
        const firebaseConfig = {
            apiKey: "AIzaSyDOsAbZGppK-dEkx9wptBfd_gQaPNeGeVI", // ì—¬ëŸ¬ë¶„ì´ ì œê³µí•´ì£¼ì‹  API í‚¤ê°€ ì—¬ê¸°ì— ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.
            authDomain: "summer-event-e6e5e.firebaseapp.com",
            projectId: "summer-event-e6e5e",
            storageBucket: "summer-event-e6e5e.firebasestorage.app",
            messagingSenderId: "769160754223",
            appId: "1:769160754223:web:08cb891170ecaa138402da",
            measurementId: "G-49H5KHMX5W"
        };

        // ì•± IDëŠ” Firebase í”„ë¡œì íŠ¸ IDì™€ ë™ì¼í•˜ê²Œ ì„¤ì • (Firestore ê²½ë¡œì— ì‚¬ìš©)
        const appId = firebaseConfig.projectId;

        let app;
        let db;
        let auth;
        let currentUserId = ''; // í˜„ì¬ ì‚¬ìš©ìì˜ IDë¥¼ ì €ì¥í•  ë³€ìˆ˜
        let firebaseReadyResolve; // Firebase ì´ˆê¸°í™” ì™„ë£Œë¥¼ ì•Œë¦¬ëŠ” Promiseì˜ resolve í•¨ìˆ˜
        const firebaseReadyPromise = new Promise(resolve => {
            firebaseReadyResolve = resolve; // Promiseë¥¼ ì™¸ë¶€ì— ë…¸ì¶œí•˜ì—¬ resolve ê°€ëŠ¥í•˜ê²Œ í•¨
        });

        // Firebase ì´ˆê¸°í™” ë° ì¸ì¦
        const initializeFirebase = async () => {
            try {
                // firebaseConfigì— projectIdê°€ ìˆëŠ”ì§€ ë‹¤ì‹œ í•œë²ˆ í™•ì¸ (ì•ˆì „ ì¥ì¹˜)
                if (!firebaseConfig.projectId) {
                    console.error("Firebase Initialization Error: projectId is not provided in firebaseConfig.");
                    document.getElementById('loadingMessage').textContent = "ì˜¤ë¥˜: Firebase í”„ë¡œì íŠ¸ IDê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê°œë°œìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.";
                    firebaseReadyResolve(); // ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë„ Promise í•´ê²°
                    return; // ë” ì´ìƒ ì§„í–‰í•˜ì§€ ì•ŠìŒ
                }

                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // Firebase ì¸ì¦ ìƒíƒœ ë³€ê²½ ê°ì§€ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        currentUserId = user.uid;
                        console.log("Firebase initialized and authenticated. User ID:", currentUserId);
                    } else {
                        console.log("No user signed in. Attempting anonymous or custom token sign-in.");
                        // __initial_auth_tokenì´ ìˆìœ¼ë©´ custom tokenìœ¼ë¡œ ë¡œê·¸ì¸ ì‹œë„
                        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                            try {
                                await signInWithCustomToken(auth, __initial_auth_token);
                                currentUserId = auth.currentUser.uid;
                                console.log("Firebase initialized and authenticated with custom token. User ID:", currentUserId);
                            } catch (tokenError) {
                                console.warn("Custom token sign-in failed, trying anonymous:", tokenError);
                                // custom token ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ ìµëª… ë¡œê·¸ì¸ ì‹œë„
                                await signInAnonymously(auth);
                                currentUserId = auth.currentUser.uid;
                                console.log("Firebase initialized. Anonymous User ID:", currentUserId);
                            }
                        } else {
                            // __initial_auth_tokenì´ ì—†ìœ¼ë©´ ìµëª… ë¡œê·¸ì¸ ì‹œë„
                            await signInAnonymously(auth);
                            currentUserId = auth.currentUser.uid; // ìµëª… ì‚¬ìš©ì ID
                            console.log("Firebase initialized. Anonymous User ID:", currentUserId);
                        }
                    }
                    // Firebase ì´ˆê¸°í™” ì™„ë£Œ í›„ ë¡œë”© ë©”ì‹œì§€ ìˆ¨ê¹€
                    document.getElementById('loadingMessage').classList.add('hidden');
                    // Firebaseê°€ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŒì„ Promiseë¡œ ì•Œë¦¼
                    firebaseReadyResolve();
                });

            } catch (error) {
                console.error("Error initializing Firebase:", error);
                document.getElementById('loadingMessage').textContent = `Firebase ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}. Firebase ì½˜ì†”ì—ì„œ API í‚¤ì™€ ì¸ì¦ ë°©ë²•ì„ í™•ì¸í•´ì£¼ì„¸ìš”.`;
                // ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë„ Promiseë¥¼ í•´ê²°í•˜ì—¬ ê¸°ëŠ¥ ì‚¬ìš© ì‹œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë„ìš°ë„ë¡ í•¨
                firebaseReadyResolve();
            }
        };

        // Firebase ì´ˆê¸°í™” í•¨ìˆ˜ í˜¸ì¶œ
        initializeFirebase();

        // í˜„ì¬ ì„ íƒëœ 2ë“± ë‹¹ì²¨ìì˜ ì •ë³´ë¥¼ ì €ì¥í•  ë³€ìˆ˜ (ë³¸ì¸ ì‹ë³„ ë° ìƒí’ˆ ì„ íƒìš©)
        let selectedWinnerName = '';
        // 'selectedWinnerBirthdate' ëŒ€ì‹  'selectedWinnerPhoneNumberLast4'ë¥¼ ì‚¬ìš©
        let selectedWinnerPhoneNumberLast4 = ''; 

        // ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ ì…ë ¥ ëª¨ë‹¬ ê´€ë ¨ ë³€ìˆ˜ ë° í•¨ìˆ˜
        let currentWinnerForId = ''; // ë³¸ì¸ ì‹ë³„ ëª¨ë‹¬ì— í‘œì‹œë  ì´ë¦„
        // 'currentBirthdateForId' ëŒ€ì‹  'currentPhoneNumberLast4ForId'ë¥¼ ì‚¬ìš©
        let currentPhoneNumberLast4ForId = ''; // ë³¸ì¸ ì‹ë³„ ëª¨ë‹¬ì—ì„œ ë¹„êµí•  íœ´ëŒ€í° ë’· 4ìë¦¬

        window.openIdVerificationModal = (name, phoneNumberLast4) => {
            currentWinnerForId = name;
            currentPhoneNumberLast4ForId = phoneNumberLast4; // íœ´ëŒ€í° ë’· 4ìë¦¬ ì €ì¥
            document.getElementById('idVerifyWinnerName').textContent = name;
            document.getElementById('idVerificationModal').classList.remove('hidden');
            document.getElementById('personalIdInput').value = ''; // ì´ì „ ì…ë ¥ê°’ ì´ˆê¸°í™”
            document.getElementById('personalIdInput').focus(); // ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤
        };

        window.closeIdVerificationModal = () => {
            document.getElementById('idVerificationModal').classList.add('hidden');
        };

        window.verifyIdAndOpenPrizeModal = () => {
            const enteredId = document.getElementById('personalIdInput').value;
            // ì…ë ¥ëœ ì‹ë³„ ë²ˆí˜¸ì™€ íœ´ëŒ€í° ë’· 4ìë¦¬ ë¹„êµ
            if (enteredId === currentPhoneNumberLast4ForId) {
                closeIdVerificationModal();
                // ì‹ë³„ ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ë©´ ìƒí’ˆ ì„ íƒ ëª¨ë‹¬ ì—´ê¸°
                // ìƒí’ˆ ì„ íƒ ëª¨ë‹¬ì— ì´ë¦„ê³¼ íœ´ëŒ€í° ë’· 4ìë¦¬ ì „ë‹¬
                openPrizeSelectionModal(currentWinnerForId, currentPhoneNumberLast4ForId);
            } else {
                showMessageBox("ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            }
        };

        // ìƒí’ˆ ì„ íƒ ëª¨ë‹¬ ì—´ê¸° (ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ í™•ì¸ í›„ í˜¸ì¶œë¨)
        // ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì„ 'birthdate'ì—ì„œ 'phoneNumberLast4'ë¡œ ë³€ê²½
        window.openPrizeSelectionModal = (name, phoneNumberLast4) => {
            selectedWinnerName = name;
            selectedWinnerPhoneNumberLast4 = phoneNumberLast4; // íœ´ëŒ€í° ë’· 4ìë¦¬ ì €ì¥
            document.getElementById('modalWinnerName').textContent = name;
            document.getElementById('prizeSelectionModal').classList.remove('hidden');
        };

        // ìƒí’ˆ ì„ íƒ ëª¨ë‹¬ ë‹«ê¸°
        window.closePrizeSelectionModal = () => {
            document.getElementById('prizeSelectionModal').classList.add('hidden');
        };

        // ìƒí’ˆ ì„ íƒ ë° Firestoreì— ì €ì¥
        window.selectPrize = async (prize) => {
            // Firebaseê°€ ì™„ì „íˆ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
            await firebaseReadyPromise;

            console.log("--- selectPrize í˜¸ì¶œë¨ ---");
            console.log("DB ì¸ìŠ¤í„´ìŠ¤: ", db ? "ì´ˆê¸°í™”ë¨" : "NULL");
            console.log("ì¸ì¦ëœ ì‚¬ìš©ì: ", auth && auth.currentUser ? auth.currentUser.uid : "NULL");
            console.log("í˜„ì¬ ì‚¬ìš©ì ID: ", currentUserId);


            if (!db || !auth.currentUser) {
                console.error("Firestore ë˜ëŠ” ì¸ì¦ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. (FirebaseReadyPromise ì´í›„)");
                showMessageBox("ì˜¤ë¥˜: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. Firebase ì½˜ì†”(ì¸ì¦ ë°©ë²• ë° ë³´ì•ˆ ê·œì¹™) ë° ë¸Œë¼ìš°ì € ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
                return;
            }

            // ê³ ìœ í•œ ë¬¸ì„œ ID ìƒì„± (ì´ë¦„-íœ´ëŒ€í°ë’·4ìë¦¬ ì¡°í•©)
            const docId = `${selectedWinnerName}-${selectedWinnerPhoneNumberLast4}`;
            // ì»¬ë ‰ì…˜ ê²½ë¡œ: public/data ì•„ë˜ì— ì €ì¥
            const prizeCollectionRef = collection(db, `artifacts/${appId}/public/data/wishEventPrizes`);
            const winnerDocRef = doc(prizeCollectionRef, docId);

            try {
                await setDoc(winnerDocRef, {
                    winnerName: selectedWinnerName,
                    // 'winnerBirthdate' ëŒ€ì‹  'winnerPhoneNumberLast4' í•„ë“œ ì‚¬ìš©
                    winnerPhoneNumberLast4: selectedWinnerPhoneNumberLast4, 
                    prizeSelected: prize,
                    selectedByUserId: currentUserId, // ìƒí’ˆì„ ì„ íƒí•œ ì‚¬ìš©ìì˜ ID ê¸°ë¡
                    timestamp: new Date() // ì„ íƒ ì‹œê°„ ê¸°ë¡
                }, { merge: true }); // ê¸°ì¡´ ë¬¸ì„œê°€ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸, ì—†ìœ¼ë©´ ìƒì„±

                showMessageBox(`${selectedWinnerName}ë‹˜ì˜ ${prize} ì„ íƒì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!`);
                closePrizeSelectionModal(); // ëª¨ë‹¬ ë‹«ê¸°

            } catch (error) {
                console.error("Error saving prize selection:", error);
                showMessageBox(`ìƒí’ˆ ì„ íƒ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì˜¤ë¥˜: ${error.message}. ë¸Œë¼ìš°ì € ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);
            }
        };

        // ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ (ì´ê³³ì˜ ë¹„ë°€ë²ˆí˜¸ëŠ” ì½”ë“œì— ë…¸ì¶œë˜ë¯€ë¡œ ë³´ì•ˆì— ë§¤ìš° ì·¨ì•½í•©ë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.)
        const ADMIN_PASSWORD = "admin1234"; 

        // ë‹¹ì²¨ì ìƒí’ˆ ì„ íƒ í˜„í™© ì¡°íšŒ (ê´€ë¦¬ììš©)
        window.showWinnerSelections = async () => {
            // ë¹„ë°€ë²ˆí˜¸ í”„ë¡¬í”„íŠ¸ í‘œì‹œ
            const enteredPassword = prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”:");

            if (enteredPassword === ADMIN_PASSWORD) {
                // Firebaseê°€ ì™„ì „íˆ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
                await firebaseReadyPromise;

                console.log("--- showWinnerSelections í˜¸ì¶œë¨ ---");
                console.log("DB ì¸ìŠ¤í„´ìŠ¤: ", db ? "ì´ˆê¸°í™”ë¨" : "NULL");
                console.log("ì¸ì¦ëœ ì‚¬ìš©ì: ", auth && auth.currentUser ? auth.currentUser.uid : "NULL");
                console.log("í˜„ì¬ ì‚¬ìš©ì ID: ", currentUserId);

                if (!db || !auth.currentUser) {
                    showMessageBox("ì˜¤ë¥˜: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. Firebase ì½˜ì†”(ì¸ì¦ ë°©ë²• ë° ë³´ì•ˆ ê·œì¹™) ë° ë¸Œë¼ìš°ì € ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
                    return;
                }

                document.getElementById('adminViewContent').innerHTML = '<p>í˜„í™©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';
                document.getElementById('adminViewSection').classList.remove('hidden');

                const prizeCollectionRef = collection(db, `artifacts/${appId}/public/data/wishEventPrizes`);
                try {
                    const querySnapshot = await getDocs(prizeCollectionRef);
                    let selectionsHtml = '<h3 class="text-xl font-bold mb-4">âœ¨ ë‹¹ì²¨ì ìƒí’ˆ ì„ íƒ í˜„í™©</h3>';
                    if (querySnapshot.empty) {
                        selectionsHtml += '<p>ì•„ì§ ì„ íƒëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                    } else {
                        selectionsHtml += '<ul class="list-disc pl-5">';
                        querySnapshot.forEach((doc) => {
                            const data = doc.data();
                            // 'winnerBirthdate' ëŒ€ì‹  'winnerPhoneNumberLast4' í‘œì‹œ
                            selectionsHtml += `<li><strong>${data.winnerName} (${data.winnerPhoneNumberLast4})</strong>: ${data.prizeSelected}`; 
                            selectionsHtml += ` (ì„ íƒì ID: ${data.selectedByUserId.substring(0, 8)}...${data.selectedByUserId.substring(data.selectedByUserId.length - 4)})</li>`; // ì‚¬ìš©ì ID ì¼ë¶€ë§Œ í‘œì‹œ
                        });
                        selectionsHtml += '</ul>';
                    }
                    document.getElementById('adminViewContent').innerHTML = selectionsHtml;
                } catch (error) {
                    console.error("Error fetching winner selections:", error);
                    document.getElementById('adminViewContent').innerHTML = '<p class="text-red-500">í˜„í™©ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì˜¤ë¥˜: ' + error.message + '</p>';
                }
            } else if (enteredPassword !== null) { // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì°½ì—ì„œ 'ì·¨ì†Œ'ë¥¼ ëˆ„ë¥´ì§€ ì•Šê³ , ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦° ê²½ìš°
                showMessageBox("ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.");
                document.getElementById('adminViewSection').classList.add('hidden'); // ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¬ë©´ í˜„í™© ìˆ¨ê¸°ê¸°
            } else { // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì°½ì—ì„œ 'ì·¨ì†Œ'ë¥¼ ëˆ„ë¥¸ ê²½ìš°
                document.getElementById('adminViewSection').classList.add('hidden'); // í˜„í™© ìˆ¨ê¸°ê¸°
            }
        };

        // ë©”ì‹œì§€ ë°•ìŠ¤ í‘œì‹œ í•¨ìˆ˜ (alert ëŒ€ì‹  ì‚¬ìš©)
        // 'function showMessageBox(message)' ëŒ€ì‹  'window.showMessageBox = function(message)'ë¡œ ë³€ê²½í•˜ì—¬ ì „ì—­ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•¨
        window.showMessageBox = function(message) {
            console.log("showMessageBox called with message:", message); // ì´ ë¡œê·¸ê°€ ì½˜ì†”ì— ëœ¨ëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageBoxText');

            if (messageBox && messageText) {
                messageBox.classList.remove('hidden');
                messageText.textContent = message;
                setTimeout(() => {
                    messageBox.classList.add('hidden');
                }, 5000); // 5ì´ˆ í›„ ìë™ ìˆ¨ê¹€
            } else {
                console.error("Error: messageBox or messageBoxText element not found!"); // ìš”ì†Œê°€ ì—†ì„ ê²½ìš° ì˜¤ë¥˜ ë¡œê·¸
            }
        };
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f8ff; /* Light blue background for summer feel */
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 1.5rem;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden; /* For wave effect */
        }
        .header-wave {
            background: linear-gradient(to right, #87ceeb, #aeeeee); /* Sky blue to light cyan */
            position: relative;
            padding: 3rem 1.5rem;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            overflow: hidden;
            color: #ffffff;
            text-align: center;
        }
        .header-wave::before {
            content: '';
            position: absolute;
            bottom: -50px;
            left: 0;
            width: 100%;
            height: 100px;
            background-color: #ffffff;
            border-radius: 50% / 100px 100px 0 0;
            transform: translateY(50%);
        }
        .section-title {
            color: #4682b4; /* Steel blue */
            border-bottom: 2px solid #aeeeee;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .prize-category {
            background-color: #f7faff; /* Lighter blue */
            border: 1px solid #e0f2f7;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .prize-category h3 {
            color: #1e90ff; /* Dodger blue */
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .winner-list {
            list-style: none;
            padding: 0;
        }
        /* 1ë“± ë‹¹ì²¨ì ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ (í´ë¦­ ë°©ì§€) */
        .winner-list.first-place-winners li {
            background-color: #ffffff;
            padding: 0.5rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            cursor: default; /* ë§ˆìš°ìŠ¤ í¬ì¸í„° ë³€ê²½ ì—†ìŒ */
        }
        .winner-list.first-place-winners li::before {
            content: 'â­'; /* Star icon */
            margin-right: 0.5rem;
        }

        /* 2ë“± ë‹¹ì²¨ì ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ (í´ë¦­ ê°€ëŠ¥) */
        .winner-list.second-place-winners li {
            background-color: #ffffff;
            padding: 0.5rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            cursor: pointer; /* 2ë“± ë‹¹ì²¨ì ì´ë¦„ì— ì»¤ì„œ í¬ì¸í„° ì¶”ê°€ */
            transition: background-color 0.2s ease;
        }
        .winner-list.second-place-winners li:hover {
            background-color: #e0f7fa; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ */
        }
        .winner-list.second-place-winners li::before {
            content: 'â­'; /* Star icon */
            margin-right: 0.5rem;
        }


        .call-to-action {
            background-color: #ffd700; /* Gold for highlight */
            color: #333333;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            margin-top: 2rem;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        /* 'ìì„¸íˆ ë³´ê¸°' ë²„íŠ¼ ì œê±°ë¡œ ì¸í•´ ê´€ë ¨ a íƒœê·¸ ìŠ¤íƒ€ì¼ ì‚­ì œ */
        /* .call-to-action a {
            display: inline-block;
            background-color: #ff8c00;
            color: #ffffff;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s ease;
            margin-top: 1rem;
        }
        .call-to-action a:hover {
            background-color: #e67e00;
        } */
        .beach-elements {
            display: flex;
            justify-content: space-around;
            padding: 1rem 0;
            font-size: 3rem; /* Larger for emojis */
        }
        .purpose-paragraph {
            margin-bottom: 1rem;
        }
        .highlight {
            color: #e67e00; /* Orange for emphasis */
            font-weight: bold;
        }

        /* ëª¨ë‹¬ ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
            position: relative;
        }
        .modal-close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #888;
        }
        .modal-close-button:hover {
            color: #333;
        }
        .prize-option-button {
            background-color: #4CAF50; /* Green */
            color: white;
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }
        .prize-option-button:hover {
            background-color: #45a049;
        }
        /* ë©”ì‹œì§€ ë°•ìŠ¤ */
        .message-box {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-align: center;
            z-index: 2000;
            opacity: 0.9;
        }
        /* ë¡œë”© ë©”ì‹œì§€ */
        #loadingMessage {
            text-align: center;
            margin-top: 20px;
            font-size: 1.1rem;
            color: #666;
        }
        /* ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ ì…ë ¥ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        .id-input-field {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: calc(100% - 40px); /* íŒ¨ë”© ê³ ë ¤ */
            margin-bottom: 15px;
            font-size: 1rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-wave">
            <h1 class="text-4xl font-bold mb-2">ì¸ë¨¸ìŠ¤ì¿¨ ì†Œì›ì„ ë§í•´ë´ ì´ë²¤íŠ¸</h1>
            <p class="text-xl">ì—¬ë¦„ë°©í•™ í–‡ì‚´ì²˜ëŸ¼ ë°˜ì§ì´ëŠ” ì†Œì›ì„ ë§í•´ë³´ì„¸ìš”!</p>
            <div class="beach-elements mt-4">
                <!-- ì—¬ë¦„ ë¶„ìœ„ê¸° ì´ëª¨ì§€ ì•„ì´ì½˜ë“¤ -->
                <span>ğŸ„</span>
                <span>â›±ï¸</span>
                <span>ğŸ˜</span>
                <span>ğŸŒŸ</span>
            </div>
        </div>

        <div class="p-6">
            <h2 class="text-2xl font-bold section-title">âœ¨ ì´ë²¤íŠ¸ ëª©ì </h2>
            <p class="text-gray-700 leading-relaxed purpose-paragraph">
                ì•ˆë…•í•˜ì„¸ìš”, ì„œì—°ê³ ã†ì˜ì¹˜ì•½ ì „ë¬¸ê´€ ëŸ¬ì…€ ìš¸ì‚°í•™ì›ì…ë‹ˆë‹¤!
            </p>
            <p class="text-gray-700 leading-relaxed purpose-paragraph">
                ëŸ¬ì…€ ìš¸ì‚°í•™ì› ì¸ë¨¸ìŠ¤ì¿¨ ì˜¤í”ˆì„ ê¸°ë…í•˜ì—¬ ì§„í–‰ëœ <span class="highlight">"ì¸ë¨¸ìŠ¤ì¿¨ ì†Œì›ì„ ë§í•´ë´ ì´ë²¤íŠ¸"</span>ì— ì°¸ì—¬í•´ì£¼ì‹  ëª¨ë“  ë¶„ë“¤ê»˜ ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.
            </p>
            <p class="text-700 leading-relaxed purpose-paragraph">
                ì´ë²ˆ ì´ë²¤íŠ¸ë¥¼ í†µí•´ ì¬ì›ìƒê³¼ ë‹¨ê³¼ìƒë“¤ì´ <span class="highlight">ì—¬ë¦„ë°©í•™ ë™ì•ˆ ì´ë£¨ê³  ì‹¶ì€ ì†Œì›</span>ì„ ì‘ì„±í•˜ë„ë¡ ë…ë ¤í•˜ê³ , ì¶”ì²¨ì„ í†µí•´ ì„ ë¬¼ì„ ì¦ì •í•¨ìœ¼ë¡œì¨ í•™ì›ì— ëŒ€í•œ ì†Œì†ê°ì„ ëŠë¼ê³  ê¸ì •ì ì¸ ë¶„ìœ„ê¸° ì†ì—ì„œ í•™ì—…ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì°¸ì—¬ ë•ë¶„ì— ì´ë²¤íŠ¸ê°€ ë”ìš± ë¹›ë‚  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
            </p>

            <h2 class="text-2xl font-bold section-title">ğŸ† ë‹¹ì²¨ì ëª…ë‹¨ ë°œí‘œ: ì´ë¦„(ìƒë…„ì›”ì¼)</h2>

            <div class="prize-category">
                <h3>ğŸ¥‡ 1ë“± ë‹¹ì²¨ì</h3>
                <ul class="winner-list first-place-winners">
                    <!-- 1ë“± ë‹¹ì²¨ìëŠ” í´ë¦­ ì´ë²¤íŠ¸ ì—†ìŒ -->
                    <li>ê¹€ã…‡í˜„ (061010)</li>
                    <li>í™ã…‡ì„œ (081217)</li>
                    <li>ê°•ã…‡ì„œ (060807)</li>
                    <li>ì†¡ã…‡ì„œ (070308)</li>
                    <li>ê¹€ã…‡ì°¬ (090309)</li>
                </ul>
            </div>

            <div class="prize-category">
                <h3>ğŸ¥ˆ 2ë“± ë‹¹ì²¨ì (í´ë¦­í•˜ì—¬ ìƒí’ˆ ì„ íƒ)</h3>
                <ul class="winner-list second-place-winners grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2">
                    <!-- 2ë“± ë‹¹ì²¨ì ë¦¬ìŠ¤íŠ¸ (í´ë¦­ ì‹œ ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ ëª¨ë‹¬ ì—´ë¦¼) -->
                    <li onclick="openIdVerificationModal('ê°•ã…‡ì£¼', '1498')">ê°•ã…‡ì£¼ (040213)</li>
                    <li onclick="openIdVerificationModal('ê°•ã…‡ì„œ', '2874')">ê°•ã…‡ì„œ (060807)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡í˜„', '5447')">ê¹€ã…‡í˜„ (070817)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡í›ˆ', '5829')">ê¹€ã…‡í›ˆ (070224)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡ì§€', '9879')">ê¹€ã…‡ì§€ (040712)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡ì€', '9992')">ê¹€ã…‡ì€ (060930)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡ê²½', '0264')">ê¹€ã…‡ê²½ (090316)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡ìœ¤', '4138')">ê¹€ã…‡ìœ¤ (070501)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡ì§„', '6325')">ê¹€ã…‡ì§„ (060325)</li>
                    <li onclick="openIdVerificationModal('ê¹€ã…‡ìš°', '6420')">ê¹€ã…‡ìš° (060312)</li>
                    <li onclick="openIdVerificationModal('ë¥˜ã…‡ì˜', '5240')">ë¥˜ã…‡ì˜ (061210)</li>
                    <li onclick="openIdVerificationModal('ë¥˜ã…‡ì§„', '3090')">ë¥˜ã…‡ì§„ (070309)</li>
                    <li onclick="openIdVerificationModal('ë°•ã…‡ì¬', '9616')">ë°•ã…‡ì¬ (060918)</li>
                    <li onclick="openIdVerificationModal('ë°•ã…‡í›ˆ', '0885')">ë°•ã…‡í›ˆ (070122)</li>
                    <li onclick="openIdVerificationModal('ë°•ã…‡ì˜', '5373')">ë°•ã…‡ì˜ (060514)</li>
                    <li onclick="openIdVerificationModal('ë°±ã…‡í›ˆ', '7495')">ë°±ã…‡í›ˆ (091226)</li>
                    <li onclick="openIdVerificationModal('ì—¬ã…‡í˜„', '8151')">ì—¬ã…‡í˜„ (080128)</li>
                    <li onclick="openIdVerificationModal('ì´ã…‡í˜„', '5214')">ì´ã…‡í˜„ (080223)</li>
                    <li onclick="openIdVerificationModal('ì´ã…‡ì›', '4443')">ì´ã…‡ì› (080722)</li>
                    <li onclick="openIdVerificationModal('ì •ã…‡ìš°', '5945')">ì •ã…‡ìš° (070217)</li>
                    <li onclick="openIdVerificationModal('ì •ã…‡í˜„', '2190')">ì •ã…‡í˜„ (090723)</li>
                    <li onclick="openIdVerificationModal('ì •ã…‡í¬', '9139')">ì •ã…‡í¬ (090716)</li>
                    <li onclick="openIdVerificationModal('ì •ã…‡í˜¸', '7534')">ì •ã…‡í˜¸ (080121)</li>
                    <li onclick="openIdVerificationModal('ì¡°ã…‡ìˆ˜', '0466')">ì¡°ã…‡ìˆ˜ (060406)</li>
                    <li onclick="openIdVerificationModal('ìµœã…‡í˜„', '8217')">ìµœã…‡í˜„ (050302)</li>
                    <li onclick="openIdVerificationModal('ìµœã…‡í˜„', '1672')">ìµœã…‡í˜„ (060615)</li>
                    <li onclick="openIdVerificationModal('ìµœã…‡ì§„', '6972')">ìµœã…‡ì§„ (070905)</li>
                    <li onclick="openIdVerificationModal('í™©ã…‡í˜„', '0051')">í™©ã…‡í˜„ (070827)</li>
                    <li onclick="openIdVerificationModal('í™©ã…‡ë¯¼', '4506')">í™©ã…‡ë¯¼ (070126)</li>
                </ul>
            </div>

            <div class="call-to-action">
                <h2 class="text-2xl font-bold mb-2">ğŸ ìƒí’ˆ ìˆ˜ë ¹ ì•ˆë‚´</h2>
                <p class="text-lg">ë‹¹ì²¨ì í™•ì¸ ë¬¸ìë¥¼ ë“¤ê³  3ì¸µ ì…í•™ì²˜ì— ìƒí’ˆì„ ìˆ˜ë ¹í•˜ëŸ¬ ì˜¤ì‹œë©´ ë©ë‹ˆë‹¤.</p>
                <!-- 'ìì„¸íˆ ë³´ê¸°' ë²„íŠ¼ ì œê±° -->
                <!-- <a href="#" onclick="showMessageBox('6ì›” 16ì¼(ì›”) ~ 6ì›” 30ì¼(ì›”)ê¹Œì§€ ìˆ˜ë ¹ê°€ëŠ¥í•©ë‹ˆë‹¤!'); return false;">ìì„¸íˆ ë³´ê¸°</a> -->
                <button class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full shadow-md transition duration-300 mt-4"
                        onclick="showMessageBox('6ì›” 16ì¼(ì›”) ~ 6ì›” 30ì¼(ì›”)ê¹Œì§€ ìˆ˜ë ¹ê°€ëŠ¥í•©ë‹ˆë‹¤!');">
                    ìˆ˜ë ¹ ê¸°ê°„ ì•ˆë‚´
                </button>
            </div>

            <div class="mt-8 text-center">
                <button onclick="showWinnerSelections()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">
                    ë‹¹ì²¨ì ìƒí’ˆ ì„ íƒ í˜„í™© ë³´ê¸° (ê´€ë¦¬ììš©)
                </button>
            </div>

            <!-- ê´€ë¦¬ì ì¡°íšŒ ì„¹ì…˜ (ì²˜ìŒì—ëŠ” ìˆ¨ê²¨ì ¸ ìˆìŒ) -->
            <div id="adminViewSection" class="hidden mt-8 p-6 bg-gray-100 rounded-lg shadow-inner">
                <div id="adminViewContent">
                    <!-- ì„ íƒ í˜„í™©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
                <p class="mt-4 text-sm text-gray-600">â€» ë°ì´í„°ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ì„ íƒì IDëŠ” ê°œì¸ ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ ì¼ë¶€ë§Œ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>

    <!-- ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="idVerificationModal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close-button" onclick="closeIdVerificationModal()">Ã—</button>
            <h3 class="text-2xl font-bold mb-4"><span id="idVerifyWinnerName"></span>ë‹˜, ë³¸ì¸ ì‹ë³„ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</h3>
            <p class="text-gray-600 text-sm mb-4">ì‹ë³„ ë²ˆí˜¸ëŠ” ë‹¹ì²¨ì ë°œí‘œ ì‹œ ì•ˆë‚´ëœ íœ´ëŒ€í° ë’· 4ìë¦¬ì…ë‹ˆë‹¤. (ì˜ˆ: 1234)</p>
            <input type="text" id="personalIdInput" placeholder="íœ´ëŒ€í° ë’· 4ìë¦¬ (ì˜ˆ: 1234)" class="id-input-field" maxlength="4">
            <button class="prize-option-button" onclick="verifyIdAndOpenPrizeModal()">í™•ì¸</button>
        </div>
    </div>

    <!-- ìƒí’ˆ ì„ íƒ ëª¨ë‹¬ -->
    <div id="prizeSelectionModal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close-button" onclick="closePrizeSelectionModal()">Ã—</button>
            <h3 class="text-2xl font-bold mb-4"><span id="modalWinnerName"></span>ë‹˜, ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”!</h3>
            <div class="flex justify-center gap-4">
                <button class="prize-option-button" onclick="selectPrize('í‚¤ë§')">í‚¤ë§ ì„ íƒ</button>
                <button class="prize-option-button" onclick="selectPrize('ë³¼íœ')">ë³¼íœ ì„ íƒ</button>
            </div>
        </div>
    </div>

    <!-- ë¡œë”© ë©”ì‹œì§€ ë°•ìŠ¤ -->
    <div id="loadingMessage" class="message-box">
        ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ˆê¸°í™” ì¤‘ì…ë‹ˆë‹¤... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”.
    </div>

    <!-- ë©”ì‹œì§€ ë°•ìŠ¤ (alert ëŒ€ì²´) -->
    <div id="messageBox" class="message-box hidden">
        <span id="messageBoxText"></span>
    </div>

</body>
</html>
